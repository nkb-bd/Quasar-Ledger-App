(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{ebc3:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"q-pa-md"},[n("div",{staticClass:"row justify-center  q-mb-md"},[n("div",{staticClass:"col-sm-8 col-xs-12 text-center  q-gutter-x-md "},[n("q-table",{attrs:{title:"Record Log",data:e.rows,columns:e.columns,"row-key":"name",pagination:e.pagination,"hide-pagination":"",flat:"",bordered:""},on:{"update:pagination":function(t){e.pagination=t}}})],1)]),n("div",{staticClass:"row justify-center q-mt-md"},[this.rows.length>e.rowsPerPage?n("q-pagination",{attrs:{color:"grey-8",max:e.pagesNumber,size:"sm"},model:{value:e.pagination.page,callback:function(t){e.$set(e.pagination,"page",t)},expression:"pagination.page"}}):e._e()],1)])},s=[],r=(n("8e6e"),n("8a81"),n("456d"),n("ac6a"),n("cadf"),n("06db"),n("8615"),n("7f7f"),n("c47a")),o=n.n(r),i=n("fc1b"),c=n("2f62"),l=n("bd4c");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g={data:function(){return{pagination:{sortBy:"desc",descending:!1,page:1,rowsPerPage:5,currentBusiness:""},columns:[{name:"businessId",align:"center",label:"ID",field:"businessId",sortable:!0},{name:"name",align:"center",label:"Business Name",field:"name"},{name:"created",align:"center",label:"Added",field:"created",sortable:!0},{name:"in",align:"center",label:"Income",field:"in",sortable:!0},{name:"out",align:"center",label:"Expense",field:"in",sortable:!0}],rows:[]}},computed:d({},Object(c["d"])("LedgerStore",["userDetails","loggedInUser"]),{getBusinessName:function(){var e=this.$store.state.LedgerStore.businessList,t=this.$route.params.key;return console.log(t),console.log(e),console.log("test",e[t]),e[t].name},pagesNumber:function(){return Math.ceil(this.rows.length/this.pagination.rowsPerPage)}}),methods:{getRecords:function(){var e=this,t=this.getBusinessName;i["c"].ref("entry_records/"+this.currentBusiness).once("value",(function(n){var a=n.val(),s=a,r=[];for(var o in s){Object.values(s[o]);r.push({name:t,businessId:s[o].businessId,in:s[o].in,out:s[o].out,created:e.mydateformat(s[o].created)})}e.rows=r}))},mydateformat:function(e){return l["a"].formatDate(e,"DD-MM-YYYY")}},mounted:function(){this.currentBusiness=this.$route.params.key,this.getRecords()},watch:{currentBusiness:function(e,t){console.log(e),console.log(t),this.getRecords()}}},p=g,b=n("2877"),f=n("eebe"),m=n.n(f),h=n("eaac"),w=n("3b16"),y=Object(b["a"])(p,a,s,!1,null,null,null);t["default"]=y.exports;m()(y,"components",{QTable:h["a"],QPagination:w["a"]})}}]);