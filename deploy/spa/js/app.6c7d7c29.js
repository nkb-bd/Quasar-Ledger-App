(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{0:function(e,r,t){e.exports=t("2f39")},"2f39":function(e,r,t){"use strict";t.r(r);var s=t("967e"),n=t.n(s),a=(t("a481"),t("96cf"),t("fa84")),o=t.n(a),i=(t("7d6e"),t("e54f"),t("985d"),t("31cd"),t("2b0e")),u=t("1f91"),c=t("42d2"),d=t("b05d"),f=t("e9c1"),l=t("436b"),p=t("2a19");i["a"].use(d["a"],{config:{},lang:u["a"],iconSet:c["a"],components:{QSlideTransition:f["a"]},plugins:{Dialog:l["a"],Notify:p["a"]}});var b=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{attrs:{id:"q-app"}},[t("router-view")],1)},h=[],m=(t("8e6e"),t("8a81"),t("ac6a"),t("cadf"),t("06db"),t("456d"),t("c47a")),g=t.n(m),v=t("2f62");function w(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,s)}return t}function y(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?w(Object(t),!0).forEach((function(r){g()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):w(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var D={name:"App",methods:y({},Object(v["b"])("LedgerStore",["handleAuthChange"])),mounted:function(){this.handleAuthChange()}},I=D,U=t("2877"),k=Object(U["a"])(I,b,h,!1,null,null,null),O=k.exports,x=t("7001");i["a"].use(v["a"]);var P=function(){var e=new v["a"].Store({modules:{LedgerStore:x["a"]},strict:!1});return e},A=t("8c4f"),E=[{path:"/",component:function(){return Promise.all([t.e(0),t.e(3)]).then(t.bind(null,"f241"))},children:[{path:"",component:function(){return Promise.all([t.e(0),t.e(7)]).then(t.bind(null,"9f3b"))},meta:{requiresAuth:!0}},{path:"/todo",component:function(){return Promise.all([t.e(0),t.e(8)]).then(t.bind(null,"a751"))}},{path:"/history",component:function(){return Promise.all([t.e(0),t.e(13)]).then(t.bind(null,"f3e7"))},meta:{requiresAuth:!0}},{path:"/business/:key",component:function(){return Promise.all([t.e(0),t.e(11)]).then(t.bind(null,"ebc3"))},meta:{requiresAuth:!0}},{path:"/help",component:function(){return Promise.all([t.e(0),t.e(12)]).then(t.bind(null,"9fc0"))}},{path:"/auth",component:function(){return Promise.all([t.e(0),t.e(6)]).then(t.bind(null,"ed20"))}},{path:"/users",component:function(){return Promise.all([t.e(0),t.e(14)]).then(t.bind(null,"051b"))},meta:{requiresAuth:!0}},{path:"/chat/:otherUserId",component:function(){return Promise.all([t.e(0),t.e(4)]).then(t.bind(null,"ab55"))},meta:{requiresAuth:!0}}]}];E.push({path:"*",component:function(){return Promise.all([t.e(0),t.e(9)]).then(t.bind(null,"e51e"))}});var j=E;i["a"].use(A["a"]);var M=function(){var e,r=new A["a"]((e={scrollBehavior:function(){return{x:0,y:0}},mode:"history",routes:j},g()(e,"mode","hash"),g()(e,"base",""),e));return r},L=function(){return S.apply(this,arguments)};function S(){return S=o()(n.a.mark((function e(){var r,t,s;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("function"!==typeof P){e.next=6;break}return e.next=3,P({Vue:i["a"]});case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=P;case 7:if(r=e.t0,"function"!==typeof M){e.next=14;break}return e.next=11,M({Vue:i["a"],store:r});case 11:e.t1=e.sent,e.next=15;break;case 14:e.t1=M;case 15:return t=e.t1,r.$router=t,s={el:"#q-app",router:t,store:r,render:function(e){return e(O)}},e.abrupt("return",{app:s,store:r,router:t});case 19:case"end":return e.stop()}}),e)}))),S.apply(this,arguments)}var _=t("fc1b");function G(){return R.apply(this,arguments)}function R(){return R=o()(n.a.mark((function e(){var r,t,s,a,o,u,c,d,f;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,L();case 2:r=e.sent,t=r.app,s=r.store,a=r.router,o=!0,u=function(e){o=!1,window.location.href=e},c=window.location.href.replace(window.location.origin,""),d=[_["default"]],f=0;case 11:if(!(!0===o&&f<d.length)){e.next=29;break}if("function"===typeof d[f]){e.next=14;break}return e.abrupt("continue",26);case 14:return e.prev=14,e.next=17,d[f]({app:t,router:a,store:s,Vue:i["a"],ssrContext:null,redirect:u,urlPath:c});case 17:e.next=26;break;case 19:if(e.prev=19,e.t0=e["catch"](14),!e.t0||!e.t0.url){e.next=24;break}return window.location.href=e.t0.url,e.abrupt("return");case 24:return console.error("[Quasar] boot error:",e.t0),e.abrupt("return");case 26:f++,e.next=11;break;case 29:if(!1!==o){e.next=31;break}return e.abrupt("return");case 31:new i["a"](t);case 32:case"end":return e.stop()}}),e,null,[[14,19]])}))),R.apply(this,arguments)}G()},"31cd":function(e,r,t){},7001:function(e,r,t){"use strict";t("ac6a"),t("cadf"),t("06db"),t("456d"),t("a481"),t("7f7f");var s,n,a=t("dad6"),o=t.n(a),i=(t("f751"),t("2b0e")),u=t("2a19"),c=t("f508"),d=t("06d5"),f=t("bd4c"),l=t("fc1b"),p=(t("1732"),{userDetails:{},users:{},messages:{},businessList:{},records:{},errors:[]}),b={addBusiness:function(e,r){i["a"].set(e.businessList,r.businessId,r.businessDetails)},addRecord:function(e,r){r.recordDetails.created=f["a"].formatDate(r.recordDetails.created,"DD MMMM YYYY hh:mm A"),i["a"].set(e.records,r.recordId,r.recordDetails)},setUserDetails:function(e,r){e.userDetails=r},addUser:function(e,r){i["a"].set(e.users,r.userId,r.userDetails)},updateUser:function(e,r){Object.assign(e.users[r.userId],r.userDetails)},addMessage:function(e,r){i["a"].set(e.messages,r.messageId,r.messageDetails)},clearMessages:function(){p.messages={}},clearRecords:function(){p.records={}},setErrors:function(e,r){e.errors.push(r)},clearError:function(){p.errors=[]}},h={registerUser:function(e,r){o()(e),l["b"].createUserWithEmailAndPassword(r.email,r.password).then((function(e){var t=l["b"].currentUser.uid;l["c"].ref("users/"+t).set({name:r.name,email:r.email,password:r.password,online:!0})})).catch((function(e){console.log(e),dispatch("addErrorMessage",e)}))},loginUser:function(e,r){e.commit;var t=e.dispatch;l["b"].signInWithEmailAndPassword(r.email,r.password).then((function(e){l["b"].currentUser.uid})).catch((function(e){t("addErrorMessage",e)}))},logoutUser:function(){l["b"].signOut()},handleAuthChange:function(e){var r=this,t=e.commit,s=e.dispatch,n=e.state;this.$router.replace("/auth"),l["b"].onAuthStateChanged((function(e){if(c["a"].show({spinner:d["a"]}),e){var a=l["b"].currentUser.uid;l["c"].ref("users/"+a).once("value",(function(e){var r=e.val();t("setUserDetails",{name:r.name,email:r.email,userId:a}),c["a"].hide()})),s("firebaseUpdateUser",{userId:a,updates:{online:!0}}),s("firebaseGetBusiness",a),s("firebaseGetUsers"),s("clearErrorMessage")}else c["a"].show({spinner:d["a"]}),s("firebaseUpdateUser",{userId:n.userDetails.userId,updates:{online:!1}}),t("setUserDetails",{}),r.$router.replace("/auth"),c["a"].hide()}))},firebaseUpdateUser:function(e,r){o()(e),r.userId&&l["c"].ref("users/"+r.userId).update(r.updates)},firebaseGetUsers:function(e,r){var t=e.commit;l["c"].ref("users/").on("child_added",(function(e){var r=e.val(),s=e.key;t("addUser",{userId:s,userDetails:r})})),l["c"].ref("users/").on("child_changed",(function(e){var r=e.val(),s=e.key;t("updateUser",{userId:s,userDetails:r})}))},firebaseGetMessages:function(e,r){var t=e.commit,n=e.state,a=n.userDetails.userId;s=l["c"].ref("chats/"+a+"/"+r),s.on("child_added",(function(e){var r=e.val(),s=e.key;t("addMessage",{messageId:s,messageDetails:r})}))},firebaseStopGettingMessages:function(e){var r=e.commit;s&&s.off("child_added"),r("clearMessages")},firebaseSendMessage:function(e,r){e.commit;var t=e.state,n=t.userDetails.userId;r.message.created=Date.now(),s=l["c"].ref("chats/"+n+"/"+r.otherUserId).push(r.message),r.message.from="them",s=l["c"].ref("chats/"+r.otherUserId+"/"+n).push(r.message)},firebaseAddBusiness:function(e,r){e.commit;var t=e.state,s=t.userDetails.userId;r.created=Date.now(),l["c"].ref("business_list/"+s).push(r)},firebaseGetBusiness:function(e,r){var t=e.commit;e.state;c["a"].show({spinner:d["a"],message:'<b>Loading, please make sure you are connected to internet </b><br/><span class="text-primary">Thanks for checking this out...</span>'}),l["c"].ref("business_list/"+r).on("child_added",(function(e){var r=e.val(),s=e.key;t("addBusiness",{businessId:s,businessDetails:r})}))},firebaseAddRecord:function(e,r){e.commit;var t=e.state,s=t.userDetails.userId;r.userId=s,l["c"].ref("entry_records/"+r.businessId).push(r),u["a"].create({type:"positive",color:"positive",timeout:600,position:"center",message:"Record saved."})},firebaseGetRecordList:function(e,r){var t=e.commit,s=e.state;s.userDetails.userId;n=l["c"].ref("entry_records/"+r.businessId),n.on("child_added",(function(e){var r=e.val(),s=e.key;t("addRecord",{recordId:s,recordDetails:r})}))},firebaseStopGettingRecordList:function(e){var r=e.commit;n&&n.off("child_added"),r("clearRecords")},addErrorMessage:function(e,r){var t=e.commit,s="";"auth/wrong-password"==r.code?(s="Invalid User login info !",t("setErrors",s)):s="auth/user-not-found"==r.code?"No user found !":"An error occurred please check your internet connection!",t("setErrors",s)},clearErrorMessage:function(e){var r=e.commit;r("clearError")}},m={users:function(e){var r={};return Object.keys(e.users).forEach((function(t){t!=e.userDetails.userId&&(r[t]=e.users[t])})),r},loggedInUser:function(e){return e.userDetails},businessListGetter:function(e){return e.businessList},recordListGetter:function(e){return e.records},getErrors:function(e){return e.errors}};r["a"]={namespaced:!0,state:p,mutations:b,actions:h,getters:m}},fc1b:function(e,r,t){"use strict";t.d(r,"b",(function(){return o})),t.d(r,"c",(function(){return i}));var s=t("59ca"),n=(t("000b"),t("ea7b"),t("66ce"),{apiKey:"AIzaSyCQo5S5l8LLm_d1LIRifVOmd-_CSEXi5L8",authDomain:"vue-firebase-1-b3001.firebaseapp.com",databaseURL:"https://vue-firebase-1-b3001.firebaseio.com",projectId:"vue-firebase-1-b3001",storageBucket:"vue-firebase-1-b3001.appspot.com",messagingSenderId:"636174946136",appId:"1:636174946136:web:5b42a9e5bb6e4c5f071f2d"}),a=s["initializeApp"](n),o=a.auth(),i=a.database()}},[[0,2,0]]]);