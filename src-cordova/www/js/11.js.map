{"version":3,"sources":["webpack:///./src/pages/History.vue?4bc4","webpack:///./src/pages/History.vue","webpack:///./src/pages/History.vue?ee6d","webpack:///./src/pages/History.vue?61e5"],"names":["data","showList","showTable","filter","loading","pagination","sortBy","descending","page","rowsPerPage","rowsNumber","columns","name","required","label","align","field","row","businessName","format","val","sortable","classes","headerClasses","mounted","methods","mapActions","showHistory","key","firebaseGetRecordList","businessId","readyDataForTable","toggleTable","Object","keys","recordListGetter","forEach","console","log","bkey","tableData","$store","state","LedgerStore","businessList","in","out","created","date","formatDate","getRowsNumberCount","push","length","count","treat","includes","computed","mapGetters","getters"],"mappings":"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","file":"js/11.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"q-pa-md\"},[(_vm.showList)?_c('div',[_c('p',[_vm._v(\"Select\")]),_c('q-list',{attrs:{\"bordered\":\"\",\"separator\":\"\"}},_vm._l((_vm.businessList),function(b,key){return _c('q-item',{directives:[{name:\"ripple\",rawName:\"v-ripple\"}],attrs:{\"clickable\":\"\"},on:{\"click\":function($event){return _vm.showHistory(key)}}},[_c('q-item-section',[_c('q-item-label',[_vm._v(_vm._s(b.name))]),_c('q-item-label',{attrs:{\"caption\":\"\"}},[_vm._v(_vm._s(b.owner))])],1)],1)}),1)],1):_vm._e(),(_vm.showTable)?_c('div',[_c('q-btn',{staticClass:\"bg-blue-grey-1 q-mt-md\",attrs:{\"flat\":\"\",\"label\":\"Back\"},on:{\"click\":function($event){return _vm.toggleTable()}}}),_c('q-input',{staticClass:\"q-mb-sm q-mt-sm\",attrs:{\"outlined\":\"\",\"dense\":\"\",\"debounce\":\"300\",\"clear-icon\":\"close\",\"placeholder\":\"Search\"},scopedSlots:_vm._u([{key:\"append\",fn:function(){return [_c('q-icon',{attrs:{\"name\":\"search\"}})]},proxy:true}],null,false,4009527860),model:{value:(_vm.filter),callback:function ($$v) {_vm.filter=$$v},expression:\"filter\"}}),_c('q-table',{attrs:{\"title\":\"\",\"data\":_vm.data,\"columns\":_vm.columns,\"row-key\":\"businessId\",\"pagination\":_vm.pagination,\"filter\":_vm.filter,\"binary-state-sort\":\"\"},on:{\"update:pagination\":function($event){_vm.pagination=$event}}})],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { mapActions , mapGetters } from 'vuex'\nimport {date} from \"quasar\";\n\nexport default {\n  data () {\n    return {\n      showList :true,\n      showTable :false,\n      filter: '',\n      loading: false,\n      pagination: {\n        sortBy: 'desc',\n        descending: false,\n        page: 1,\n        rowsPerPage: 3,\n        rowsNumber: 10\n      },\n      columns: [\n        {\n          name: 'businessName',\n          required: true,\n          label: 'Business Name',\n          align: 'left',\n          field: row => row.businessName,\n          format: val => `${val}`,\n          sortable: true,\n          classes: 'bg-grey-2 ellipsis',\n          headerClasses: 'bg-primary text-white'\n        },\n\n        { name: 'in', align: 'center', label: 'In', field: 'in', sortable: true ,headerClasses: 'bg-blue-grey-1'},\n        { name: 'out', label: 'Out', field: 'out', sortable: true,headerClasses: 'bg-blue-grey-1' },\n        { name: 'date', label: 'Date', field: 'created', sortable: true,headerClasses: 'bg-blue-grey-1' },\n      ],\n      data: []\n    }\n  },\n  mounted () {\n\n\n\n  },\n  methods: {\n    ...mapActions('LedgerStore',['firebaseGetRecordList']),\n    showHistory(key){\n\n      this.firebaseGetRecordList({\n        businessId: key\n      })\n      this.showList =!this.showList;\n      this.showTable =!this.showTable;\n      this.readyDataForTable()\n    },\n    toggleTable(){\n      this.data = []\n      this.showList =!this.showList;\n      this.showTable =!this.showTable;\n    },\n    readyDataForTable(){\n\n      Object.keys(this.recordListGetter).forEach( key => {\n        console.log(key)\n        let bkey = this.recordListGetter[key].businessId\n        let tableData = {\n          businessId : key,\n          businessName : this.$store.state.LedgerStore.businessList[bkey].name,\n          in : this.recordListGetter[key].in,\n          out : this.recordListGetter[key].out,\n          created : date.formatDate(this.recordListGetter[key].created, ' DD MMMM YYYY hh:mm A') ,\n\n        }\n        this.pagination.rowsNumber = this.getRowsNumberCount()\n\n        this.data.push(tableData)\n        console.log(this.recordListGetter[key].in)\n\n\n\n      })\n    },\n\n    getRowsNumberCount (filter) {\n      if (!filter) {\n        return this.data.length\n      }\n      let count = 0\n      this.data.forEach((treat) => {\n        if (treat.name.includes(filter)) {\n          ++count\n        }\n      })\n      return count\n    }\n  },\n  computed:{\n    ...mapGetters('LedgerStore', ['recordListGetter']),\n    businessList (){\n      return this.$store.getters['LedgerStore/businessListGetter'];\n    }\n\n  }\n}\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--1-0!../../node_modules/@quasar/app/lib/webpack/loader.auto-import.js?kebab!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./History.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--1-0!../../node_modules/@quasar/app/lib/webpack/loader.auto-import.js?kebab!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./History.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./History.vue?vue&type=template&id=38fa8b62&\"\nimport script from \"./History.vue?vue&type=script&lang=js&\"\nexport * from \"./History.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\nimport qInstall from \"../../node_modules/@quasar/app/lib/webpack/runtime.auto-import.js\"\nimport QList from 'quasar/src/components/item/QList.js'\nimport QItem from 'quasar/src/components/item/QItem.js'\nimport QItemSection from 'quasar/src/components/item/QItemSection.js'\nimport QItemLabel from 'quasar/src/components/item/QItemLabel.js'\nimport QBtn from 'quasar/src/components/btn/QBtn.js'\nimport QInput from 'quasar/src/components/input/QInput.js'\nimport QIcon from 'quasar/src/components/icon/QIcon.js'\nimport QTable from 'quasar/src/components/table/QTable.js'\nqInstall(component, 'components', {QList,QItem,QItemSection,QItemLabel,QBtn,QInput,QIcon,QTable})\n\nimport Ripple from 'quasar/src/directives/Ripple.js'\nqInstall(component, 'directives', {Ripple})\n"],"sourceRoot":""}