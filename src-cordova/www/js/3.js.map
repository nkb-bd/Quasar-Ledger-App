{"version":3,"sources":["webpack:///./src/pages/Chat.vue?cd71","webpack:///./src/pages/Chat.vue","webpack:///./src/pages/Chat.vue?1408","webpack:///./src/pages/Chat.vue?72d3","webpack:///./src/pages/Chat.vue?fdee","webpack:///./src/mixings/other-user-details.js","webpack:///./src/pages/Chat.vue?603d"],"names":["mixins","mixingOtherUserDetails","data","newMessage","showMessages","loading","methods","mapActions","sendMessage","firebaseSendMessage","message","text","from","otherUserId","$route","params","$refs","chatInput","$el","focus","scrollToBottom","pageChat","setTimeout","window","scrollTo","scrollHeight","messageDate","timestamp","date","formatDate","computed","mapState","mounted","firebaseGetMessages","destroyed","firebaseStopGettingMessages","watch","messages","val","Object","keys","length","otherUserDetails","$store","state","LedgerStore","users"],"mappings":"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","file":"js/3.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('q-page',{ref:\"pageChat\",staticClass:\"flex column page-chat\"},[(!_vm.otherUserDetails.online)?_c('q-banner',{staticClass:\"fixed-top bg-grey-4 text-center\"},[_vm._v(\"\\n    \"+_vm._s(_vm.otherUserDetails.name)+\" is offline.\\n\\n    \"+_vm._s(_vm.newMessage)+\"\\n  \")]):_vm._e(),(!_vm.loading)?_c('div',{staticClass:\"fixed-top bg-grey-4 text-center\"},[_c('div',{staticClass:\"q-gutter-md row justify-center\"},[_c('q-spinner-puff',{attrs:{\"color\":\"primary\",\"size\":\"2em\"}})],1)]):_vm._e(),_c('div',{staticClass:\"q-pa-md column col justify-end\"},_vm._l((_vm.messages),function(message,key){return _c('q-chat-message',{key:message.key,class:{'invisible' : !_vm.showMessages},attrs:{\"name\":message.from == 'me' ? _vm.userDetails.name : _vm.otherUserDetails.name,\"text\":[message.text],\"sent\":message.from == 'me' ? true : false,\"bg-color\":message.from == 'me' ? 'white': 'light-green-2',\"stamp\":_vm.messageDate(message.created)}})}),1),_c('q-footer',{attrs:{\"elevated\":\"\"}},[_c('q-toolbar',[_c('q-form',{staticClass:\"full-width\",on:{\"submit\":_vm.sendMessage}},[_c('q-input',{ref:\"chatInput\",attrs:{\"bg-color\":\"white\",\"outlined\":\"\",\"rounded\":\"\",\"autofocus\":\"\",\"label\":\"Message\",\"dense\":\"\"},on:{\"blur\":_vm.scrollToBottom},scopedSlots:_vm._u([{key:\"after\",fn:function(){return [_c('q-btn',{attrs:{\"round\":\"\",\"dense\":\"\",\"flat\":\"\",\"type\":\"submit\",\"color\":\"white\",\"icon\":\"send\"},on:{\"click\":_vm.sendMessage}})]},proxy:true}]),model:{value:(_vm.newMessage),callback:function ($$v) {_vm.newMessage=$$v},expression:\"newMessage\"}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { mapActions , mapState } from 'vuex'\nimport LedgerStore from \"../store/LedgerStore\";\nimport  mixingOtherUserDetails  from 'src/mixings/other-user-details.js'\nimport {date} from \"quasar\";\nexport default {\n  mixins: [mixingOtherUserDetails],\n  data() {\n    return {\n      newMessage: '',\n      showMessages: false,\n      loading: true\n    }\n  },\n  methods: {\n    ...mapActions('LedgerStore',['firebaseGetMessages','firebaseStopGettingMessages','firebaseSendMessage']),\n    sendMessage() {\n      if(this.newMessage =='') {\n        return\n      }\n      this.firebaseSendMessage({\n        message:{\n          text: this.newMessage,\n          from: 'me'\n        },\n        otherUserId: this.$route.params.otherUserId\n\n      })\n      this.newMessage = ''\n      this.$refs.chatInput.$el.focus();\n    },\n    scrollToBottom(){\n      let pageChat  = this.$refs.pageChat.$el\n      setTimeout(()=>{\n        window.scrollTo( 0, pageChat.scrollHeight);\n\n        },20)\n    },\n    messageDate(timestamp){\n\n      return date.formatDate(timestamp, ' DD MMMM YYYY hh:mm A')\n    }\n  },\n  computed:{\n    ...mapState('LedgerStore', ['messages','userDetails']),\n\n  },\n  mounted() {\n    this.firebaseGetMessages(this.$route.params.otherUserId)\n    this.loading = false\n  },\n  destroyed() {\n    this.firebaseStopGettingMessages()\n  },\n  watch:{\n    messages: function(val){\n      if(Object.keys(val).length){\n        this.scrollToBottom();\n        setTimeout(()=>{\n         this.showMessages = true\n\n        },100)\n      }\n    }\n  }\n\n\n}\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--1-0!../../node_modules/@quasar/app/lib/webpack/loader.auto-import.js?kebab!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chat.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--1-0!../../node_modules/@quasar/app/lib/webpack/loader.auto-import.js?kebab!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chat.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Chat.vue?vue&type=template&id=62ef6709&\"\nimport script from \"./Chat.vue?vue&type=script&lang=js&\"\nexport * from \"./Chat.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Chat.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\nimport qInstall from \"../../node_modules/@quasar/app/lib/webpack/runtime.auto-import.js\"\nimport QPage from 'quasar/src/components/page/QPage.js'\nimport QBanner from 'quasar/src/components/banner/QBanner.js'\nimport QSpinnerPuff from 'quasar/src/components/spinner/QSpinnerPuff.js'\nimport QChatMessage from 'quasar/src/components/chat/QChatMessage.js'\nimport QFooter from 'quasar/src/components/footer/QFooter.js'\nimport QToolbar from 'quasar/src/components/toolbar/QToolbar.js'\nimport QForm from 'quasar/src/components/form/QForm.js'\nimport QInput from 'quasar/src/components/input/QInput.js'\nimport QBtn from 'quasar/src/components/btn/QBtn.js'\nqInstall(component, 'components', {QPage,QBanner,QSpinnerPuff,QChatMessage,QFooter,QToolbar,QForm,QInput,QBtn})\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-2-0!../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-2-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-2-2!../../node_modules/@quasar/app/lib/webpack/loader.auto-import.js?kebab!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chat.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-2-0!../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-2-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-2-2!../../node_modules/@quasar/app/lib/webpack/loader.auto-import.js?kebab!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chat.vue?vue&type=style&index=0&lang=css&\"","export default {\n  computed:{\n    otherUserDetails (){\n      if (this.$store.state.LedgerStore.users[this.$route.params.otherUserId]){\n        return this.$store.state.LedgerStore.users[this.$route.params.otherUserId]\n      }\n      return {}\n    }\n  }\n}\n","// extracted by mini-css-extract-plugin"],"sourceRoot":""}